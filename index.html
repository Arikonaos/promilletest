<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ehrlicher Promilletest</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #ffcc70, #ff8c42);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0;
    }
    .card {
      background: white;
      padding: 2rem;
      border-radius: 1.5rem;
      max-width: 420px;
      width: 90%;
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
      text-align: center;
    }
    h1 {
      margin-top: 0;
      font-size: 1.6rem;
    }
    label {
      display: block;
      margin-top: 1.2rem;
      font-weight: 600;
    }
    input {
      margin-top: 0.5rem;
      width: 80%;
      padding: 0.6rem;
      font-size: 1rem;
      border-radius: 0.6rem;
      border: 1px solid #ccc;
      text-align: center;
    }
    .number-controls {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 0.5rem;
    }
    .number-controls button {
      padding: 0.6rem 1rem;
      font-size: 1rem;
      border-radius: 0.6rem;
      border: 1px solid #888;
      background: #ff8c42;
      color: white;
      cursor: pointer;
    }
    .number-controls button:active {
      background: #ff7722;
    }
    button.main-button {
      margin-top: 1.5rem;
      padding: 0.8rem 1.2rem;
      font-size: 1rem;
      border: none;
      border-radius: 1rem;
      background: #ff8c42;
      color: white;
      cursor: pointer;
      width: 100%;
    }
    button.main-button:active {
      background: #ff7722;
    }
    .result {
      margin-top: 1.5rem;
      font-size: 1.2rem;
      font-weight: bold;
      display: none;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>üç∫ FCV-Just-Men Promilletest</h1>

    <label for="bier">Wie viele Bier hattest du?</label>
    <div class="number-controls">
      <button onclick="changeBier(-1)">-</button>
      <input id="bier" type="number" min="0" max="20" value="0" readonly />
      <button onclick="changeBier(1)">+</button>
    </div>

    <label for="fastnacht">Kannst du noch ‚ÄûFastnacht‚Äú richtig schreiben?</label>
    <input id="fastnacht" type="text" placeholder="Hier eintippen" />

    <button class="main-button" onclick="auswerten()">Test auswerten</button>

    <div id="result" class="result"></div>
    <audio id="prostSound" src="https://www.soundjay.com/human/sounds/cheering-01.mp3" preload="auto"></audio>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    function changeBier(amount) {
      const bierInput = document.getElementById('bier');
      let current = parseInt(bierInput.value, 10);
      current += amount;
      if (current < 0) current = 0;
      if (current > 20) current = 20;
      bierInput.value = current;
    }

    function auswerten() {
      const bier = parseInt(document.getElementById('bier').value, 10);
      const wortInput = document.getElementById('fastnacht');
      const wort = wortInput.value.trim();
      const result = document.getElementById('result');

      // Pr√ºfen, ob Fastnacht ausgef√ºllt ist
      if (wort === "") {
        result.textContent = "‚ö†Ô∏è Bitte schreibe das Wort, damit wir deine Promilleanzahl ermitteln k√∂nnen!";
        result.style.display = 'block';
        return;
      }

      let spruch = "ü•≥ Ergebnis: Feierabend ist noch lange nicht.";

      if (!isNaN(bier)) {
        document.getElementById('prostSound').currentTime = 0;
        document.getElementById('prostSound').play();

        if (bier == 1) spruch = "üç∫ Schwacher Zieher. Du bist doch wohl nicht der Fahrer? Auf jetzt.";
        else if (bier === 2) spruch = "ü§ôüèª Ein Bier noch so klein, bleibt ungern allein.";
        else if (bier === 3) spruch = "üíß Save water ‚Äì Drink Beer.";
        else if (bier === 4) spruch = "ü§ù Dein rechter Sitznachbar bezahlt dir das n√§chste Bier. Ihr seid f√ºr heute Bierbr√ºder.";
        else if (bier === 5) spruch = "üòã Prost. Schmecke lasse. Noch eins bis zum halben Dutzend";
        else if (bier === 6) spruch = "ü•É Halbes Dutzend geschafft. Das sollte man mit einem Schnaps feiern.";
        else if (bier === 7) spruch = "üì¢ Aus dem Keller t√∂nt ein lauter Schrei: Schieb nei, schieb nei!";
        else if (bier === 8) spruch = "üé∫ Ein Prooooooosit!";
        else if (bier === 9) spruch = "üåæ Hopfen und Malz ‚Äì Ab in den Hals.";
        else if (bier === 10) spruch = "üëë Zweistellig: Das schreit nach dem Trinkspruch unserer Royal Eleven: Zieh mal H√ºlsen, H√ºlsen Fr√ºchte, H√ºlsen Fr√ºchte. Uuuuuuuuumsonst!";
        else if (bier === 11) spruch = "üèÉ Wenn eins heute l√§uft, dann das Bier. Sportlicher wird es nicht mehr!";
        else if (bier === 12) spruch = "üçª Lass dich nicht lumpen, hoch die Humpen!";
        else if (bier === 13) spruch = "üôè Jeder muss an etwas glauben und ich glaub du trinkst noch was.";
        else if (bier === 14) spruch = "üé∂ Wir singen: Baila, baila, baila, baila ‚Äì Bailu, bailu, bailu√©.";
        else if (bier === 15) spruch = "üìè Mit des Bieres Hochgenuss, w√§chst des Bauches Radius!";
        else if (bier === 16) spruch = "ü§ùüèº Dein linker Sitznachbar bezahlt dir das n√§chste Bier. Er ist dein neuer Bierbruder";
        else if (bier === 17) spruch = "üïú It's Beer o'clock. Eins geht noch!";
        else if (bier === 18) spruch = "‚ù§ Zwischen Leber und Nierchen passt immer ein Bierchen";
        else if (bier === 19) spruch = "üòÅ Prost ! Auf die sch√∂nen Dinge im Leben: Liebe, Lachen und ein kaltes Bier!";
        else if (bier === 20) spruch = "üëë Respekt du bist ein wahrer Kampftrinker. Schon mal √ºber eine Karriere als Elferrat nachgedacht?üòâ";
      }

      let rechtschreibung = "";
      if (wort.toLowerCase() === "fastnacht") {
        rechtschreibung = "\n\n‚úÖ Korrekt geschrieben. Test bestanden. Ich sehe du hast noch Durst!";
      } else {
        rechtschreibung = "\n\n‚ùå Hast du dich vertippt? Bestell dir lieber mal ein Bier und probier es dann noch einmal!";
      }

      result.textContent = spruch + "\n" + rechtschreibung;
      result.style.display = 'block';

      // Fastnacht-Feld nach Auswertung zur√ºcksetzen
      wortInput.value = '';

      if (bier === 5 || bier === 10 || bier >= 15) {
        confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
      }
    }
  </script>
</body>
</html>
